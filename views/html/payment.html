<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=h1, initial-scale=1.0">
    <title>Document</title>
</head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script>
    //Write your Javascript Code Here
    function submitPay()
    {
        console.log("You clicked the pay button successfully")
        //To get the Selected Month from the dropdown
        var getMonthValue=document.getElementById("expiryMonth").selectedOptions[0].value;
      

       //To get the Selected Year from the dropdown
       var  getYearValue=document.getElementById("expiryYear").selectedOptions[0].value;
 

       //Get the current Year and month using Javascript
       var today=new Date()
    

       //Now Apply the Logic to Check if the card is expired or not
       //Variable for Current Year
       var current_year=parseInt(today.getFullYear())
       console.log(current_year)
       //Variable for Current Month
       var current_month=parseInt(today.getMonth())
       console.log(current_month)
       //variable for Selected Month
        var selected_month=parseInt(getMonthValue)
        console.log(selected_month)
        //variable for Selected Year
        var selected_year=parseInt(getYearValue)
        console.log(selected_year)

        if(current_year>=selected_year && current_month>selected_month)
        {   
            console.log("Wrong Card")
            alert("Sorry,Your card has Expired ,Please Use a different one")
        }

        window.location.href="/checkout";

    }
</script>
<style>
    .paymentDiv
    {
        border:2px solid black;
        text-align:center;
    }
    .paymentHeading
    {
        text-align:center;
        background-color:cadetblue;
    }
    .card_number
    {
        width: 50%;
    }
    .input_month
    {
        width:20%;  
    }
    #securityCode{
    -webkit-appearence:none;
    margin:0;
    }
    .cvvDiv
    {
        position: absolute;
    top: 26px;
    right: 0;
    left: 0;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: end;
    -webkit-justify-content: flex-end;
    -ms-flex-pack: end;
    justify-content: flex-end;
    white-space: pre-line;
    height: 0px;
    margin-left: 8px;
    font-size: 0.826rem;
    }
</style>
<body>
    <h1>Welcome to the Payment Page</h1>
    <div class="mainDiv">
        <div class="row">
            <div class="col-xs-4"></div>
            <div class="col-xs-4">
                <div class="paymentDiv">
                    <h1 class="paymentHeading">Payment Details</h1>
                    <div>
                        <form action="/addcard" method="POST">
                        <span>CARD NUMBER</span>
                       
                        <input required  type="number" inputmode="numeric" minlength="12" maxlength="12"  name="cardNumber" class="card_number" placeholder="ENTER YOUR CARD NUMBER">
                        <br>
                        <br>
                        <span>NAME ON THE CARD</span>
                  
                        <input required type="text" name="cardHolderName" placeholder="NAME ON THE CARD" class="input_name">
                        <br>
                        <br>
                        <span>
                            EXPIRY
                        </span>
                     
                        <select name="month" id="expiryMonth" aria-required="true" placeholder="MM" minlength="2" maxlength="2" class="css-141gpem e1tbi35p0"><option value="01" aria-label="01">01</option><option value="02" aria-label="02">02</option><option value="03" aria-label="03">03</option><option value="04" aria-label="04">04</option><option value="05" aria-label="05">05</option><option value="06" aria-label="06">06</option><option value="07" aria-label="07">07</option><option value="08" aria-label="08">08</option><option value="09" aria-label="09">09</option><option value="10" aria-label="10">10</option><option value="11" aria-label="11">11</option><option value="12" aria-label="12">12</option></select>
                        <span>/</span>
                        <select  name="year" aria-label="Expiry Year" id="expiryYear" aria-required="true" placeholder="YY" minlength="2" maxlength="2" class="css-141gpem e1tbi35p0"><option value="2021" aria-label="2021">2021</option><option value="2022" aria-label="2022">2022</option><option value="2023" aria-label="2023">2023</option><option value="2024" aria-label="2024">2024</option><option value="2025" aria-label="2025">2025</option><option value="2026" aria-label="2026">2026</option><option value="2027" aria-label="2027">2027</option><option value="2028" aria-label="2028">2028</option><option value="2029" aria-label="2029">2029</option><option value="2030" aria-label="2030">2030</option><option value="2031" aria-label="2031">2031</option><option value="2032" aria-label="2032">2032</option><option value="2033" aria-label="2033">2033</option><option value="2034" aria-label="2034">2034</option><option value="2035" aria-label="2035">2035</option><option value="2036" aria-label="2036">2036</option><option value="2037" aria-label="2037">2037</option><option value="2038" aria-label="2038">2038</option><option value="2039" aria-label="2039">2039</option><option value="2040" aria-label="2040">2040</option><option value="2041" aria-label="2041">2041</option><option value="2042" aria-label="2042">2042</option><option value="2043" aria-label="2043">2043</option><option value="2044" aria-label="2044">2044</option><option value="2045" aria-label="2045">2045</option><option value="2046" aria-label="2046">2046</option><option value="2047" aria-label="2047">2047</option><option value="2048" aria-label="2048">2048</option><option value="2049" aria-label="2049">2049</option><option value="2050" aria-label="2050">2050</option><option value="2051" aria-label="2051">2051</option><option value="2052" aria-label="2052">2052</option><option value="2053" aria-label="2053">2053</option><option value="2054" aria-label="2054">2054</option><option value="2055" aria-label="2055">2055</option><option value="2056" aria-label="2056">2056</option><option value="2057" aria-label="2057">2057</option><option value="2058" aria-label="2058">2058</option><option value="2059" aria-label="2059">2059</option><option value="2060" aria-label="2060">2060</option><option value="2061" aria-label="2061">2061</option><option value="2062" aria-label="2062">2062</option><option value="2063" aria-label="2063">2063</option><option value="2064" aria-label="2064">2064</option><option value="2065" aria-label="2065">2065</option><option value="2066" aria-label="2066">2066</option><option value="2067" aria-label="2067">2067</option><option value="2068" aria-label="2068">2068</option><option value="2069" aria-label="2069">2069</option><option value="2070" aria-label="2070">2070</option><option value="2071" aria-label="2071">2071</option></select>
                
                        <span class="spnCVV">CVV</span>
                     
                         <input name="cvv" required  type="text" required="" id="securityCode" maxlength="3" size="3" class="esjsdlz1 css-f0up1d eesbt950" value="">
                        <br>

                       <button type="submit"  onClick="submitPay()" class="btn btn-success">PAY</button>
                       </form>
                    </div>
                </div>
            </div>
            <div class="col-xs-4"></div>
        </div>
    </div>
</body>
</html>